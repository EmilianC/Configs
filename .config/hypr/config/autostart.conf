# https://wiki.hyprland.org/Configuring/Keywords/#executing

# Create a watcher to display a volume control bar
exec-once = mkfifo $volume_display_pipe
exec-once = bash -c "tail -f $volume_display_pipe | $overlay_bar & disown" &

# Background manager
exec-once = sh ~/.config/hypr/scripts/wallpaperctl.sh "$(< ~/.config/hypr/scripts/.wallpaper_state)"
# PC Idle handler
exec-once = $idle_manager -w timeout 2000 'swaymsg "output * dpms off"' resume 'swaymsg "output * dpms on"'
exec-once = $taskbar_manager &
exec-once = $flux_manager &
exec-once = $notification_manager &
# Keyboard language manager
# exec-once = fcitx5 -d &
# Network info provider for widgets
# exec-once = nm-applet --indicator &

# Allow GUI prompts for authentication.
exec-once = /usr/lib/polkit-kde-authentication-agent-1 &

# Slow app launch fix
exec-once = systemctl --user import-environment &
exec-once = hash dbus-update-activation-environment 2>/dev/null &
exec-once = dbus-update-activation-environment --systemd &

# Ensure plugins are loaded correctly
exec-once = hyprpm reload
